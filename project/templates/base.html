<!DOCTYPE html>
<html lang="es" class="h-full bg-gray-50">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}App con Supabase{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body class="h-full font-sans">
    <div class="flex flex-col min-h-screen relative">

        <div class="absolute top-0 left-0 w-full flex justify-center pt-8 px-4 z-50 pointer-events-none">
            <div class="w-full max-w-md pointer-events-auto">
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                {% for category, message in messages %}
                {% set bg_color = 'bg-blue-100' %}
                {% set border_color = 'border-blue-500' %}
                {% set text_color = 'text-blue-700' %}

                {% if category == 'success' %}
                {% set bg_color = 'bg-green-100' %}
                {% set border_color = 'border-green-500' %}
                {% set text_color = 'text-green-700' %}
                {% elif category == 'error' %}
                {% set bg_color = 'bg-red-100' %}
                {% set border_color = 'border-red-500' %}
                {% set text_color = 'text-red-700' %}
                {% elif category == 'warning' %}
                {% set bg_color = 'bg-yellow-100' %}
                {% set border_color = 'border-yellow-500' %}
                {% set text_color = 'text-yellow-700' %}
                {% endif %}

                <div class="border-l-4 {{ border_color }} {{ bg_color }} p-4 rounded-md shadow-sm mb-3" role="alert">
                    <p class="{{ text_color }}">{{ message }}</p>
                </div>
                {% endfor %}
                {% endif %}
                {% endwith %}
            </div>
        </div>
        <!-- Fin de Mensajes Flash -->

        <main class="flex-grow">
            {% block content %}{% endblock %}
        </main>

    </div>
</body>

</html>